{"ast":null,"code":"var _jsxFileName = \"/Users/techi.s./Desktop/Cool-Tees5 2/frontend/src/components/Common/Item.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addCart, increaseCart, decreaseCart } from \"../../reducks/carts/operations\";\nimport deleteicon from \"../../assets/img/delete.png\";\nimport { getCarts, getSubtotal } from \"../../reducks/carts/selectors\";\nimport { push } from \"connected-react-router\";\nimport like from \"../../assets/img/like.png\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { addFavourite } from \"../../reducks/favourites/operations\";\nimport { getFavourites } from \"../../reducks/favourites/selectors\";\nimport { deleteFavourite } from \"../../reducks/favourites/operations\"; // import {\n//   solid,\n//   regular,\n//   brands,\n// } from \"@fortawesome/fontawesome-svg-core/import.macro\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Item = ({\n  item\n}) => {\n  _s();\n\n  const selector = useSelector(state => state);\n  const dispatch = useDispatch();\n  const carts = getCarts(selector);\n  const subtotal = getSubtotal(selector);\n  const [particularCart, setParticularCart] = useState(null);\n  const key = localStorage.getItem(\"LOGIN_USER_KEY\");\n  const [showLikeButton, setShowLikeButton] = useState(true);\n  const favourites = getFavourites(selector); // const [showLikeButton, setShowLikeButton] = useState(true);\n  // const favourites = getFavourites(selector);\n  // const clickFavourite = (item) => {\n  //   dispatch(addFavourite(item));\n  // };\n\n  useEffect(() => {\n    if (carts != undefined && carts.length > 0) {\n      console.log(\"carts\");\n      console.log(carts);\n      let matchedCarts = carts.filter(cart => cart.item.id == item.id);\n      console.log(\"matchedCarts\");\n      console.log(matchedCarts);\n\n      if (matchedCarts.length > 0) {\n        setParticularCart(matchedCarts[0]);\n      } else {\n        setParticularCart(null);\n      }\n    }\n  }, [subtotal]);\n  useEffect(() => {\n    let favoriteitem = favourites.filter(favourite => favourite.id == item.id);\n\n    if (favoriteitem.length > 0) {\n      setShowLikeButton(false);\n    }\n  }, [favourites]);\n\n  const clickFavourite = item => {\n    dispatch(addFavourite(item));\n  };\n\n  const clickAddCart = () => {\n    if (key) {\n      dispatch(addCart(item));\n    } else {\n      dispatch(push(\"/signin\"));\n    }\n  };\n\n  const clickPlusCart = () => {\n    dispatch(increaseCart(particularCart.id));\n  };\n\n  const clickMinusCart = () => {\n    dispatch(decreaseCart(particularCart.id));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"page-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"post-slider\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"post-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"post\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.image,\n              class: \"slider-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), showLikeButton && /*#__PURE__*/_jsxDEV(\"img\", {\n              class: \"like\",\n              src: like,\n              onClick: () => {\n                clickFavourite(item);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              class: \"delete\",\n              src: deleteicon,\n              onClick: () => {\n                dispatch(deleteFavourite(item.id));\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"post-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: [item.name, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 19\n                }, this), item.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this), particularCart && particularCart.quantity > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"number\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  class: \"minus\",\n                  onClick: clickMinusCart,\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  class: \"count\",\n                  children: particularCart.quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  class: \"plus\",\n                  onClick: clickPlusCart,\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: clickAddCart,\n                children: \"Add To Cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Item, \"XuzX3bik5TgIWTIEZcR0XqEkDLg=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = Item;\nexport default Item;\n\nvar _c;\n\n$RefreshReg$(_c, \"Item\");","map":{"version":3,"sources":["/Users/techi.s./Desktop/Cool-Tees5 2/frontend/src/components/Common/Item.jsx"],"names":["React","useEffect","useState","useDispatch","useSelector","addCart","increaseCart","decreaseCart","deleteicon","getCarts","getSubtotal","push","like","FontAwesomeIcon","addFavourite","getFavourites","deleteFavourite","Item","item","selector","state","dispatch","carts","subtotal","particularCart","setParticularCart","key","localStorage","getItem","showLikeButton","setShowLikeButton","favourites","undefined","length","console","log","matchedCarts","filter","cart","id","favoriteitem","favourite","clickFavourite","clickAddCart","clickPlusCart","clickMinusCart","image","name","price","quantity"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SACEC,OADF,EAEEC,YAFF,EAGEC,YAHF,QAIO,gCAJP;AAKA,OAAOC,UAAP,MAAuB,6BAAvB;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,+BAAtC;AACA,SAASC,IAAT,QAAqB,wBAArB;AACA,OAAOC,IAAP,MAAiB,2BAAjB;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,YAAT,QAA6B,qCAA7B;AACA,SAASC,aAAT,QAA8B,oCAA9B;AACA,SAASC,eAAT,QAAgC,qCAAhC,C,CACA;AACA;AACA;AACA;AACA;;;;AAEA,MAAMC,IAAI,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAc;AAAA;;AACzB,QAAMC,QAAQ,GAAGf,WAAW,CAAEgB,KAAD,IAAWA,KAAZ,CAA5B;AACA,QAAMC,QAAQ,GAAGlB,WAAW,EAA5B;AACA,QAAMmB,KAAK,GAAGb,QAAQ,CAACU,QAAD,CAAtB;AACA,QAAMI,QAAQ,GAAGb,WAAW,CAACS,QAAD,CAA5B;AACA,QAAM,CAACK,cAAD,EAAiBC,iBAAjB,IAAsCvB,QAAQ,CAAC,IAAD,CAApD;AACA,QAAMwB,GAAG,GAAGC,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAZ;AACA,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsC5B,QAAQ,CAAC,IAAD,CAApD;AACA,QAAM6B,UAAU,GAAGhB,aAAa,CAACI,QAAD,CAAhC,CARyB,CAUzB;AACA;AAEA;AACA;AACA;;AAEAlB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIqB,KAAK,IAAIU,SAAT,IAAsBV,KAAK,CAACW,MAAN,GAAe,CAAzC,EAA4C;AAC1CC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYb,KAAZ;AACA,UAAIc,YAAY,GAAGd,KAAK,CAACe,MAAN,CAAcC,IAAD,IAAUA,IAAI,CAACpB,IAAL,CAAUqB,EAAV,IAAgBrB,IAAI,CAACqB,EAA5C,CAAnB;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYC,YAAZ;;AACA,UAAIA,YAAY,CAACH,MAAb,GAAsB,CAA1B,EAA6B;AAC3BR,QAAAA,iBAAiB,CAACW,YAAY,CAAC,CAAD,CAAb,CAAjB;AACD,OAFD,MAEO;AACLX,QAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACD;AACF;AACF,GAbQ,EAaN,CAACF,QAAD,CAbM,CAAT;AAcAtB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIuC,YAAY,GAAGT,UAAU,CAACM,MAAX,CAChBI,SAAD,IAAeA,SAAS,CAACF,EAAV,IAAgBrB,IAAI,CAACqB,EADnB,CAAnB;;AAGA,QAAIC,YAAY,CAACP,MAAb,GAAsB,CAA1B,EAA6B;AAC3BH,MAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACD;AACF,GAPQ,EAON,CAACC,UAAD,CAPM,CAAT;;AAQA,QAAMW,cAAc,GAAIxB,IAAD,IAAU;AAC/BG,IAAAA,QAAQ,CAACP,YAAY,CAACI,IAAD,CAAb,CAAR;AACD,GAFD;;AAIA,QAAMyB,YAAY,GAAG,MAAM;AACzB,QAAIjB,GAAJ,EAAS;AACPL,MAAAA,QAAQ,CAAChB,OAAO,CAACa,IAAD,CAAR,CAAR;AACD,KAFD,MAEO;AACLG,MAAAA,QAAQ,CAACV,IAAI,CAAC,SAAD,CAAL,CAAR;AACD;AACF,GAND;;AAOA,QAAMiC,aAAa,GAAG,MAAM;AAC1BvB,IAAAA,QAAQ,CAACf,YAAY,CAACkB,cAAc,CAACe,EAAhB,CAAb,CAAR;AACD,GAFD;;AAGA,QAAMM,cAAc,GAAG,MAAM;AAC3BxB,IAAAA,QAAQ,CAACd,YAAY,CAACiB,cAAc,CAACe,EAAhB,CAAb,CAAR;AACD,GAFD;;AAGA,sBACE;AAAA,2BACE;AAAK,MAAA,KAAK,EAAC,cAAX;AAAA,6BACE;AAAK,QAAA,KAAK,EAAC,aAAX;AAAA,+BAIE;AAAK,UAAA,KAAK,EAAC,cAAX;AAAA,iCACE;AAAK,YAAA,KAAK,EAAC,MAAX;AAAA,oCACE;AAAK,cAAA,GAAG,EAAErB,IAAI,CAAC4B,KAAf;AAAsB,cAAA,KAAK,EAAC;AAA5B;AAAA;AAAA;AAAA;AAAA,oBADF,EAEGjB,cAAc,iBACb;AACE,cAAA,KAAK,EAAC,MADR;AAEE,cAAA,GAAG,EAAEjB,IAFP;AAGE,cAAA,OAAO,EAAE,MAAM;AACb8B,gBAAAA,cAAc,CAACxB,IAAD,CAAd;AACD;AALH;AAAA;AAAA;AAAA;AAAA,oBAHJ,eAWE;AACE,cAAA,KAAK,EAAC,QADR;AAEE,cAAA,GAAG,EAAEV,UAFP;AAGE,cAAA,OAAO,EAAE,MAAM;AACba,gBAAAA,QAAQ,CAACL,eAAe,CAACE,IAAI,CAACqB,EAAN,CAAhB,CAAR;AACD;AALH;AAAA;AAAA;AAAA;AAAA,oBAXF,eAkBE;AAAK,cAAA,KAAK,EAAC,WAAX;AAAA,sCACE;AAAA,2BACGrB,IAAI,CAAC6B,IADR,eAEE;AAAA;AAAA;AAAA;AAAA,wBAFF,EAGG7B,IAAI,CAAC8B,KAHR;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAOGxB,cAAc,IAAIA,cAAc,CAACyB,QAAf,GAA0B,CAA5C,gBACC;AAAK,gBAAA,KAAK,EAAC,QAAX;AAAA,wCACE;AAAM,kBAAA,KAAK,EAAC,OAAZ;AAAoB,kBAAA,OAAO,EAAEJ,cAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAIE;AAAM,kBAAA,KAAK,EAAC,OAAZ;AAAA,4BAAqBrB,cAAc,CAACyB;AAApC;AAAA;AAAA;AAAA;AAAA,wBAJF,eAKE;AAAM,kBAAA,KAAK,EAAC,MAAZ;AAAmB,kBAAA,OAAO,EAAEL,aAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBALF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,gBAWC;AAAQ,gBAAA,OAAO,EAAED,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAlBJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAlBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAqDD,CA7GD;;GAAM1B,I;UACab,W,EACAD,W;;;KAFbc,I;AA+GN,eAAeA,IAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  addCart,\n  increaseCart,\n  decreaseCart,\n} from \"../../reducks/carts/operations\";\nimport deleteicon from \"../../assets/img/delete.png\";\nimport { getCarts, getSubtotal } from \"../../reducks/carts/selectors\";\nimport { push } from \"connected-react-router\";\nimport like from \"../../assets/img/like.png\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { addFavourite } from \"../../reducks/favourites/operations\";\nimport { getFavourites } from \"../../reducks/favourites/selectors\";\nimport { deleteFavourite } from \"../../reducks/favourites/operations\";\n// import {\n//   solid,\n//   regular,\n//   brands,\n// } from \"@fortawesome/fontawesome-svg-core/import.macro\";\n\nconst Item = ({ item }) => {\n  const selector = useSelector((state) => state);\n  const dispatch = useDispatch();\n  const carts = getCarts(selector);\n  const subtotal = getSubtotal(selector);\n  const [particularCart, setParticularCart] = useState(null);\n  const key = localStorage.getItem(\"LOGIN_USER_KEY\");\n  const [showLikeButton, setShowLikeButton] = useState(true);\n  const favourites = getFavourites(selector);\n\n  // const [showLikeButton, setShowLikeButton] = useState(true);\n  // const favourites = getFavourites(selector);\n\n  // const clickFavourite = (item) => {\n  //   dispatch(addFavourite(item));\n  // };\n\n  useEffect(() => {\n    if (carts != undefined && carts.length > 0) {\n      console.log(\"carts\");\n      console.log(carts);\n      let matchedCarts = carts.filter((cart) => cart.item.id == item.id);\n      console.log(\"matchedCarts\");\n      console.log(matchedCarts);\n      if (matchedCarts.length > 0) {\n        setParticularCart(matchedCarts[0]);\n      } else {\n        setParticularCart(null);\n      }\n    }\n  }, [subtotal]);\n  useEffect(() => {\n    let favoriteitem = favourites.filter(\n      (favourite) => favourite.id == item.id\n    );\n    if (favoriteitem.length > 0) {\n      setShowLikeButton(false);\n    }\n  }, [favourites]);\n  const clickFavourite = (item) => {\n    dispatch(addFavourite(item));\n  };\n\n  const clickAddCart = () => {\n    if (key) {\n      dispatch(addCart(item));\n    } else {\n      dispatch(push(\"/signin\"));\n    }\n  };\n  const clickPlusCart = () => {\n    dispatch(increaseCart(particularCart.id));\n  };\n  const clickMinusCart = () => {\n    dispatch(decreaseCart(particularCart.id));\n  };\n  return (\n    <div>\n      <div class=\"page-wrapper\">\n        <div class=\"post-slider\">\n          {/* <FontAwesomeIcon icon=\"fa-solid fa-arrow-right-long\" />\n          <FontAwesomeIcon icon=\"fa-solid fa-arrow-left-long\" /> */}\n\n          <div class=\"post-wrapper\">\n            <div class=\"post\">\n              <img src={item.image} class=\"slider-image\" />\n              {showLikeButton && (\n                <img\n                  class=\"like\"\n                  src={like}\n                  onClick={() => {\n                    clickFavourite(item);\n                  }}\n                />\n              )}\n              <img\n                class=\"delete\"\n                src={deleteicon}\n                onClick={() => {\n                  dispatch(deleteFavourite(item.id));\n                }}\n              />\n              <div class=\"post-info\">\n                <h2>\n                  {item.name}\n                  <br />\n                  {item.price}\n                </h2>\n\n                {particularCart && particularCart.quantity > 0 ? (\n                  <div class=\"number\">\n                    <span class=\"minus\" onClick={clickMinusCart}>\n                      -\n                    </span>\n                    <span class=\"count\">{particularCart.quantity}</span>\n                    <span class=\"plus\" onClick={clickPlusCart}>\n                      +\n                    </span>\n                  </div>\n                ) : (\n                  <button onClick={clickAddCart}>Add To Cart</button>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Item;\n"]},"metadata":{},"sourceType":"module"}